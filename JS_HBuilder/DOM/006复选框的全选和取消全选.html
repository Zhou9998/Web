<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>复选框全选和取消全选</title>
	</head>
	<body>
		<script type="text/javascript">
/* 			window.onload = function(){
				var firstChk = document.getElementById("firstChk")
				firstChk.onclick = function(){
					//alert(firstChk.checked);
					//根据name获取所有元素
					var aihaos = document.getElementsByName("aihao");
					if(firstChk.checked){
						for(var i = 0;i<aihaos.length;i++){
						aihaos[i].checked = true;
						}
					}else{
						for(var i = 0;i<aihaos.length;i++){
						aihaos[i].checked = false;
						}
					}
				}
			} */
			window.onload = function(){
				var firstChk = document.getElementById("firstChk");
				//根据name获取所有元素
				var aihaos = document.getElementsByName("aihao");
				firstChk.onclick = function(){
					//alert(firstChk.checked);
					for(var i = 0;i<aihaos.length;i++){
						aihaos[i].checked = firstChk.checked;
					}
				}
				var all = aihaos.length;
				for(var i = 0;i<aihaos.length;i++){
					aihaos[i].onclick =function(){
						var checkCount = 0;
						//总数量和选中的数量相等的时候，第一个复选框选中！
						for(var i = 0;i<aihaos.length;i++){
							if(aihaos[i].checked){
								checkCount++;
							}
						}
						firstChk.checked = (all == checkCount);
						/* if(all == checkCount){
							firstChk.checked = true;
						}else{
							firstChk.checked = false;
						} */
					}
				}
			}
		</script>
		<input type="checkbox" id="firstChk" /><br>
		<input type="checkbox" name="aihao" value="smoke" />抽烟<br />
		<input type="checkbox" name="aihao" value="drink" />喝酒<br />
		<input type="checkbox" name="aihao" value="tt" />烫头<br />
	</body>
</html>
